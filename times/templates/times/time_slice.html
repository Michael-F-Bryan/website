{% extends 'base.html' %}

{% block content %}
<h1>Time Slice</h1>
<p>Showing times from {{ slice.start|date }} to {{ slice.end|date }} for <em>{{ user }}</em>.</p>

<div class="panel panel-default">
  <div class="panel-heading">
    <h2 class="panel-title">Summary</h2>
  </div>
  <div class="panel-body">
    <dl class="dl-horizontal">
      {% for key, value in summary.items %}
      <dt>{{ key }}</dt>
      <dd>{{ value | floatformat }}</dd>
      {% endfor %}
    </dl>
  </div>
</div>

<table class="table table-hover">
  <thead>
    <tr>
      <th>#</th>
      <th>Date</th>
      <th>Start</th>
      <th>Finish</th>
      <th>Hours Worked</th>
    </tr>
  </thead>
  <tbody>
    {% for time in slice.times|dictsortreversed:"start" %}
    <tr>
      <td>{{ forloop.counter }}</td>
      <td>
        <a href="{% url 'times:detail' time.id %}">{{ time.start|date }}</a>
      </td>
      <td>{{ time.start|time }}</td>
      <td>
        {% if time.end is None %}
        -
        {% else %}
        {{ time.end|time }}
        {% endif %}
      </td>
      <td>{{ time.hours_worked | floatformat }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
